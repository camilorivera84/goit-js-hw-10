{"mappings":"AAEA,MAAMA,EAAWC,SAASC,cAAc,iBAClCC,EAAWF,SAASC,cAAc,WAClCE,EAAUH,SAASC,cAAc,UACjCG,EAAYJ,SAASC,cAAc,aAEzCF,EAASM,iBAAiB,UAuB1B,SAAsBC,GACpBF,EAAUG,UAAY,GACtBC,gBAAgBF,EAAIG,OAAOC,M,IAvB7BX,EAASY,UAAUC,IAAI,aACvBT,EAAQQ,UAAUC,IAAI,aCyCbC,MADK,sCACM,CAChBC,QAAS,CACP,YALS,aAQVC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,GAAQA,IACbC,OAAMC,IACL,MAAMA,CAAK,ID9CdL,MAAKG,KAUR,SAAuBG,GACrB,MAAMC,EAASD,EACZE,KAAI,EAACC,GAAEA,EAAEC,KAAEA,KAAW,kBAAkBD,MAAOC,eAC/CC,KAAK,IACR3B,EAASQ,UAAYe,C,CAbnBK,CAAcT,GACdnB,EAASY,UAAUiB,OAAO,aAC1B1B,EAASS,UAAUC,IAAI,YAAY,IAEpCO,OAAM,KACLjB,EAASS,UAAUC,IAAI,aACvBT,EAAQQ,UAAUiB,OAAO,YAAY","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreeds } from './cat-api';\n\nconst selectEl = document.querySelector('.breed-select');\nconst loaderEl = document.querySelector('.loader');\nconst errorEl = document.querySelector('.error');\nconst catInfoEl = document.querySelector('.cat-info');\n\nselectEl.addEventListener('change', createMarkup);\n\nselectEl.classList.add('is-hidden');\nerrorEl.classList.add('is-hidden');\n\nfetchBreeds()\n  .then(data => {\n    createOptions(data);\n    selectEl.classList.remove('is-hidden');\n    loaderEl.classList.add('is-hidden');\n  })\n  .catch(() => {\n    loaderEl.classList.add('is-hidden');\n    errorEl.classList.remove('is-hidden');\n  });\n\nfunction createOptions(cats) {\n  const markup = cats\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n  selectEl.innerHTML = markup;\n}\n\nfunction createMarkup(evt) {\n  catInfoEl.innerHTML = '';\n  fetchCatByBreed(evt.target.value);\n  // .then(createCardCat)\n  // .catch(() => error.classList.remove('is-hidden'))\n  //.finally(() => loaderEl.classList.add('is-hidden'))\n}\n\nfunction createCardCat(cat) {\n  const { description, name, temperament } = cat[0].breeds[0];\n  const markup = `<img src=\"${cat[0].url}\" alt=${name}\" width=\"300px\"/>`;\n  /*<div class=\"wrapper\">\n    <h1>${name}</h1>\n    <p>${description}</p>\n    <p>\n      <b>Temperament:</b>${temperament}\n    </p>\n  </div>;*/\n  catInfoEl.innerHTML = markup;\n}\n","/*const url = `https://api.thecatapi.com/v1/breeds`;\nconst api_key = 'DEMO_API_KEY';\nlet storedBreeds = [];\n\nfetch(url, {\n  headers: {\n    'x-api-key': api_key,\n  },\n})\n  .then(response => {\n    return response.json();\n  })\n  .then(data => {\n    //filter to only include those with an `image` object\n    data = data.filter(img => img.image?.url != null);\n\n    storedBreeds = data;\n\n    for (let i = 0; i < storedBreeds.length; i++) {\n      const breed = storedBreeds[i];\n      let option = document.createElement('option');\n\n      //skip any breeds that don't have an image\n      if (!breed.image) continue;\n\n      //use the current array index\n      option.value = i;\n      option.innerHTML = `${breed.name}`;\n      document.getElementById('breed_select').appendChild(option);\n    }\n    //show the first breed by default\n    showBreedImage(0);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n\nfunction showBreedImage(index) {\n  document.getElementById('breed_image').src = storedBreeds[index].image.url;\n\n  document.getElementById('breed_json').textContent =\n    storedBreeds[index].temperament;\n\n  document.getElementById('wiki_link').href = storedBreeds[index].wikipedia_url;\n  document.getElementById('wiki_link').innerHTML =\n    storedBreeds[index].wikipedia_url;\n}*/\n// Función para hacer una petición HTTP a la colección de razas\nconst apiKey = 'tu kays';\nexport function fetchBreeds() {\n  const url = 'https://api.thecatapi.com/v1/breeds';\n  return fetch(url, {\n    headers: {\n      'x-api-key': apiKey,\n    },\n  })\n    .then(response => response.json())\n    .then(data => data)\n    .catch(error => {\n      throw error;\n    });\n}\nexport function fetchCatByBreed(breedId) {\n  const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=${apiKey}`;\n  return fetch(url)\n    .then(response => response.json())\n    .then(data => data)\n    .catch(error => {\n      throw error;\n    });\n}\n"],"names":["$1f0dc3b9307be026$var$selectEl","document","querySelector","$1f0dc3b9307be026$var$loaderEl","$1f0dc3b9307be026$var$errorEl","$1f0dc3b9307be026$var$catInfoEl","addEventListener","evt","innerHTML","fetchCatByBreed","target","value","classList","add","fetch","headers","then","response","json","data","catch","error","cats","markup","map","id","name","join","$1f0dc3b9307be026$var$createOptions","remove"],"version":3,"file":"index.49077e82.js.map"}